(function(){var c=window.dui||{},b={zoom:13,markerIcon:siteUrl+"static/public/images/blue-marker.png",markerShadow:siteUrl+"static/public/images/marker-shadow.png",gbarOptions:{},callback:function(){}},a=google.maps,d=function(f,e){result=f||{};for(k in e){if(e.hasOwnProperty(k)){if(typeof result[k]==="undefined"){result[k]=e[k]}}}return result};c.Map=function(e){this.config=d(e,b);this.latLng=new a.LatLng(this.config.lat,this.config.lng);this.options={zoom:this.config.zoom,center:this.latLng,mapTypeId:a.MapTypeId.ROADMAP};this.init()};c.Map.Types={SMALL:"small",LARGE:"large",EDIT:"edit"};c.Map.prototype={init:function(){switch(this.config.type){case c.Map.Types.SMALL:this.initSmall();break;case c.Map.Types.LARGE:this.initLarge();break;case c.Map.Types.EDIT:this.initEdit();break;default:this.initLarge();break}},initMarker:function(){this.marker=new a.Marker({position:this.latLng});if(this.config.markerIcon){this.marker.setIcon(this.config.markerIcon);this.marker.setShadow(this.config.markerShadow)}this.marker.setMap(this.map)},initSmall:function(){var e=d({disableDefaultUI:true,navigationControl:true},this.options);this.map=new a.Map(document.getElementById(this.config.containerId),e);this.initMarker();this.config.callback("small",this)},initLarge:function(){var e=d({scaleControl:true},this.options);this.map=new a.Map(document.getElementById(this.config.containerId),e);this.initMarker();this.config.callback("large",this)},initEdit:function(){this.initLarge();if(window.jeremy){var e=new jeremy.jGoogleBar(this.map,this.config.gbarOptions);this.map.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(e.container)}this.config.callback("edit",this)}};window.dui=c})();